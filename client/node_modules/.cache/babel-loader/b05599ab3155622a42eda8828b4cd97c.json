{"ast":null,"code":"var _jsxFileName = \"E:\\\\PROJECTS\\\\StackOverflowCloneREPO-master\\\\client\\\\src\\\\components\\\\body\\\\auth\\\\Login.js\";\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { dispatchLogin } from '../../../redux/actions/authAction';\nimport { useDispatch } from 'react-redux';\nimport { GoogleLogin } from 'react-google-login';\nimport FacebookLogin from 'react-facebook-login';\nconst initialState = {\n  email: '',\n  password: '',\n  err: '',\n  success: ''\n};\n\nfunction Login() {\n  const [user, setUser] = useState(initialState);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const {\n    email,\n    password,\n    err,\n    success\n  } = user;\n\n  const handleChangeInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUser({ ...user,\n      [name]: value,\n      err: '',\n      success: ''\n    });\n  };\n\n  const handleSubmit = async e => {\n    var _res$data, _res$data2;\n\n    e.preventDefault();\n    const res = await axios.post('/api/auth/login', {\n      email,\n      password\n    });\n    alert(res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.msg);\n\n    if (res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.success) {\n      localStorage.setItem('firstLogin', true);\n      dispatch(dispatchLogin());\n      history.push(\"/\");\n    }\n  };\n\n  const responseGoogle = async response => {\n    const res = await axios.post('/api/auth/google_login', {\n      tokenId: response.tokenId\n    });\n    setUser({ ...user,\n      error: '',\n      success: res.data.msg\n    });\n    localStorage.setItem('firstLogin', true);\n    dispatch(dispatchLogin());\n    history.push('/');\n  };\n\n  const responseFacebook = async response => {\n    const {\n      accessToken,\n      userID\n    } = response;\n    const res = await axios.post('/api/auth/facebook_login', {\n      accessToken,\n      userID\n    });\n    setUser({ ...user,\n      error: '',\n      success: res.data.msg\n    });\n    localStorage.setItem('firstLogin', true);\n    dispatch(dispatchLogin());\n    history.push('/');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login_page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, \"Email Address\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter email address\",\n    id: \"email\",\n    value: email,\n    name: \"email\",\n    onChange: handleChangeInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Enter password\",\n    id: \"password\",\n    value: password,\n    name: \"password\",\n    onChange: handleChangeInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Login_control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"LoginBtn\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/forgot_password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, \"Forgot your password?\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"social\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: \"995235905833-1qbs265qfqs3tmq26r32hbludc1u5vnm.apps.googleusercontent.com\",\n    buttonText: \"Login with google\",\n    onSuccess: responseGoogle,\n    cookiePolicy: 'single_host_origin',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(FacebookLogin, {\n    appId: \"781160475812473\",\n    autoLoad: false,\n    fields: \"name,email,picture\",\n    callback: responseFacebook,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, \"New User? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 26\n    }\n  }, \"Register\")));\n}\n\nexport default Login;","map":{"version":3,"sources":["E:/PROJECTS/StackOverflowCloneREPO-master/client/src/components/body/auth/Login.js"],"names":["React","useState","Link","useHistory","axios","dispatchLogin","useDispatch","GoogleLogin","FacebookLogin","initialState","email","password","err","success","Login","user","setUser","dispatch","history","handleChangeInput","e","name","value","target","handleSubmit","preventDefault","res","post","alert","data","msg","localStorage","setItem","push","responseGoogle","response","tokenId","error","responseFacebook","accessToken","userID"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport { dispatchLogin } from '../../../redux/actions/authAction'\nimport { useDispatch } from 'react-redux'\nimport { GoogleLogin } from 'react-google-login';\nimport FacebookLogin from 'react-facebook-login';\n\n\nconst initialState = {\n    email: '',\n    password: '',\n    err: '',\n    success: ''\n}\n\nfunction Login() {\n    const [user, setUser] = useState(initialState)\n    const dispatch = useDispatch()\n    const history = useHistory()\n\n    const { email, password, err, success } = user\n\n    const handleChangeInput = e => {\n        const { name, value } = e.target\n        setUser({ ...user, [name]: value, err: '', success: '' })\n    }\n\n\n    const handleSubmit = async e => {\n        e.preventDefault()\n            const res = await axios.post('/api/auth/login', { email, password })\n            alert(res?.data?.msg)\n            if(res?.data?.success) {\n                localStorage.setItem('firstLogin', true)\n                dispatch(dispatchLogin())\n                history.push(\"/\")\n            }\n        \n    }\n\n    const responseGoogle = async (response) => {\n            const res = await axios.post('/api/auth/google_login', { tokenId: response.tokenId })\n            setUser({ ...user, error: '', success: res.data.msg })\n            localStorage.setItem('firstLogin', true)\n\n            dispatch(dispatchLogin())\n            history.push('/')\n       \n    }\n\n    const responseFacebook = async (response) => {\n            const { accessToken, userID } = response\n            const res = await axios.post('/api/auth/facebook_login', { accessToken, userID })\n\n            setUser({ ...user, error: '', success: res.data.msg })\n            localStorage.setItem('firstLogin', true)\n\n            dispatch(dispatchLogin())\n            history.push('/')\n    }\n\n    return (\n        <div className=\"login_page\">\n            <h2>Login</h2>\n            <form onSubmit={handleSubmit}>\n                <div>\n                    <label htmlFor=\"email\">Email Address</label>\n                    <input type=\"text\" placeholder=\"Enter email address\" id=\"email\"\n                        value={email} name=\"email\" onChange={handleChangeInput} />\n                </div>\n\n                <div>\n                    <label htmlFor=\"password\">Password</label>\n                    <input type=\"password\" placeholder=\"Enter password\" id=\"password\"\n                        value={password} name=\"password\" onChange={handleChangeInput} />\n                </div>\n\n                <div className=\"Login_control\">\n                    <button className=\"LoginBtn\" type=\"submit\">Login</button>\n                    <Link to=\"/forgot_password\">Forgot your password?</Link>\n                </div>\n            </form>\n\n            <div className=\"social\">\n                <GoogleLogin\n                    clientId=\"995235905833-1qbs265qfqs3tmq26r32hbludc1u5vnm.apps.googleusercontent.com\"\n                    buttonText=\"Login with google\"\n                    onSuccess={responseGoogle}\n                    cookiePolicy={'single_host_origin'}\n                />\n\n                <FacebookLogin\n                    appId=\"781160475812473\"\n                    autoLoad={false}\n                    fields=\"name,email,picture\"\n                    callback={responseFacebook}\n                />\n\n            </div>\n\n            <p>New User? <Link to=\"/register\">Register</Link></p>\n        </div>\n    )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}