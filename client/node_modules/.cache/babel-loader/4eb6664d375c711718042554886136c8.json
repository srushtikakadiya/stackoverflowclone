{"ast":null,"code":"var _jsxFileName = \"E:\\\\PROJECTS\\\\StackOverflowCloneREPO-master\\\\client\\\\src\\\\components\\\\body\\\\users\\\\Users.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport './Users.css';\n\nfunction Users(props) {\n  const auth = useSelector(state => state.auth);\n  const token = useSelector(state => state.token);\n  const [limit, setlimit] = useState(20);\n  const [page, setpage] = useState(0);\n  const [SearchType, setSearchType] = useState(false);\n  const [AllUsersLength, setAllUsersLength] = useState(0);\n  const [users, setusers] = useState([]);\n  const [searchuser, setsearchuser] = useState(\"\");\n  const {\n    user,\n    isAdmin\n  } = auth;\n  const dispatch = useDispatch();\n  const whithout_limit = 100;\n  useEffect(() => {\n    axios.post('/api/users', {\n      searchuser,\n      page,\n      isAdmin: SearchType,\n      limit: limit ? limit : whithout_limit\n    }).then(data => {\n      setusers(data.data.users);\n      setAllUsersLength(data.data.lengthOfTheUsers);\n    });\n  }, [token, isAdmin, dispatch, searchuser, limit, page, SearchType]);\n\n  const setlimf = e => {\n    if (!isNaN(e.target.value) && e.target.value > 0 && e.target.value != '') {\n      setlimit(parseInt(e.target.value));\n    } else {\n      setlimit('');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile_page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile_page_users\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, \"Users\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: searchuser,\n    onChange: e => {\n      setsearchuser(e.target.value);\n      setpage(0);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"UsersMap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, users.map(user => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"UsersMapCell\",\n    key: user._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 40\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: user.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"user/\" + user._id,\n    className: \"AdminUsersMapName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  }, user.name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"UsersMapCellFullName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }\n  }, user.fullname), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"UsersMapCellEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 25\n    }\n  }, user.email)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-controll page-controll-admin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-controll-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setSearchType(!SearchType),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  }, SearchType ? \"Admin\" : \"All\")), function () {\n    let btns = [];\n\n    for (let l = 0; l < Math.ceil(AllUsersLength / (limit ? limit : whithout_limit)); l++) {\n      btns.push( /*#__PURE__*/React.createElement(\"button\", {\n        key: l,\n        onClick: () => setpage(l),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 43\n        }\n      }, l));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-conroll-pages-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 36\n      }\n    }, btns);\n  }(), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-conroll-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-conroll-input-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  }, \"Users limit\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"page-conroll-input\",\n    value: limit,\n    type: \"number\",\n    placeholder: whithout_limit,\n    min: \"1\",\n    max: \"100\",\n    onChange: e => setlimf(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  })))));\n}\n\nexport default Users;","map":{"version":3,"sources":["E:/PROJECTS/StackOverflowCloneREPO-master/client/src/components/body/users/Users.js"],"names":["React","useState","useEffect","axios","useSelector","useDispatch","Link","Users","props","auth","state","token","limit","setlimit","page","setpage","SearchType","setSearchType","AllUsersLength","setAllUsersLength","users","setusers","searchuser","setsearchuser","user","isAdmin","dispatch","whithout_limit","post","then","data","lengthOfTheUsers","setlimf","e","isNaN","target","value","parseInt","map","_id","avatar","name","fullname","email","btns","l","Math","ceil","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport './Users.css'\n\n\nfunction Users(props) {\n    const auth = useSelector(state => state.auth)\n    const token = useSelector(state => state.token)\n    const [limit, setlimit] = useState(20)\n    const [page, setpage] = useState(0)\n    const [SearchType, setSearchType] = useState(false)\n    const [AllUsersLength, setAllUsersLength] = useState(0)\n    const [users, setusers] = useState([])\n    const [searchuser, setsearchuser] = useState(\"\")\n    const { user, isAdmin } = auth\n\n\n    const dispatch = useDispatch()\n    const whithout_limit = 100\n    useEffect(() => {\n        axios.post('/api/users', { searchuser, page, isAdmin: SearchType, limit: (limit ? limit : whithout_limit) }\n        ).then(data => {\n            setusers(data.data.users)\n            setAllUsersLength(data.data.lengthOfTheUsers)\n        })\n    }, [token, isAdmin, dispatch, searchuser, limit, page, SearchType])\n\n    const setlimf = (e) => {\n        if (!isNaN(e.target.value) && e.target.value > 0 && e.target.value != '') {\n            setlimit(parseInt(e.target.value))\n        } else {\n            setlimit('')\n        }\n    }\n\n    return (\n        <div className=\"profile_page\">\n            <div className=\"profile_page_users\">\n                <h2>Users</h2>\n                <input value={searchuser} onChange={(e) => { setsearchuser(e.target.value); setpage(0) }}></input>\n                <div className=\"UsersMap\">\n                    {users.map(user => <div className=\"UsersMapCell\" key={user._id}>\n                        <img src={user.avatar} />\n                        <Link to={\"user/\" + user._id} className=\"AdminUsersMapName\">{user.name}</Link>\n                        <div className=\"UsersMapCellFullName\">{user.fullname}</div>\n                        <div className=\"UsersMapCellEmail\">{user.email}</div>\n                    </div>)}\n                </div>\n                <div className=\"page-controll page-controll-admin\">\n                    <div className=\"page-controll-btn\">\n                        <button onClick={() => setSearchType(!SearchType)}>{SearchType ? \"Admin\" : \"All\"}</button>\n                    </div>\n                    {\n                        function () {\n                            let btns = []\n                            for (let l = 0; l < Math.ceil(AllUsersLength / (limit ? limit : whithout_limit)); l++) {\n                                btns.push(<button key={l} onClick={() => setpage(l)}>{l}</button>)\n                            }\n                            return <div className=\"page-conroll-pages-list\">{btns}</div>\n                        }()\n                    }\n                    <div className=\"page-conroll-input\">\n                        <div className=\"page-conroll-input-label\">Users limit</div>\n                        <input className=\"page-conroll-input\"\n                            value={limit}\n                            type=\"number\"\n                            placeholder={whithout_limit}\n                            min=\"1\" max=\"100\"\n                            onChange={e => setlimf(e)}></input>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    )\n}\n\nexport default Users\n"]},"metadata":{},"sourceType":"module"}