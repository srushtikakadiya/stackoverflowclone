{"ast":null,"code":"var _jsxFileName = \"E:\\\\PROJECTS\\\\StackOverflowCloneREPO-master\\\\client\\\\src\\\\components\\\\header\\\\Header.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport axios from 'axios';\n\nfunction Header() {\n  const auth = useSelector(state => state.auth);\n  const notifications = useSelector(state => {\n    var _state$notifications;\n\n    return state === null || state === void 0 ? void 0 : (_state$notifications = state.notifications) === null || _state$notifications === void 0 ? void 0 : _state$notifications.notifications;\n  });\n  const {\n    user,\n    isLogged\n  } = auth;\n\n  const handleLogout = async () => {\n    try {\n      await axios.get('/api/auth/logout');\n      localStorage.removeItem('firstLogin');\n      window.location.href = \"/\";\n    } catch (err) {\n      window.location.href = \"/\";\n    }\n  };\n\n  const userLink = () => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: \"header-acc-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/user/\" + user._id,\n      className: \"avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: user.avatar,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nav-item dropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"nav-link dropdown-toggle\",\n      href: \"#\",\n      id: \"dropdown01\",\n      \"data-toggle\": \"dropdown\",\n      \"aria-expanded\": \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }\n    }, user.name), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"dropdown-menu\",\n      \"aria-labelledby\": \"dropdown01\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"dropdown-item\",\n      to: \"/user/\" + user._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 25\n      }\n    }, \"Profile\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"dropdown-item\",\n      to: \"/settings\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 25\n      }\n    }, \"Settings\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 21\n      }\n    }, user.role ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"dropdown-item\",\n      to: \"/admin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 30\n      }\n    }, \"Admin Dashboard\")) : null), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"dropdown-item\",\n      to: \"/\",\n      onClick: handleLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 25\n      }\n    }, \"Logout\")))));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav-shell fixed-top navbar-dark bg-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"navbar-expand-lg navbar\",\n    \"aria-label\": \"Main navigation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"navbar-brand\",\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 21\n    }\n  }, \"StackOverflow\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"navbar-toggler p-0 border-0\",\n    type: \"button\",\n    \"data-toggle\": \"offcanvas\",\n    \"aria-label\": \"Toggle navigation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"navbar-toggler-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navbar-collapse offcanvas-collapse\",\n    id: \"navbarsExampleDefault\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"navbar-nav mr-auto mb-2 mb-lg-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"nav-link\",\n    \"aria-current\": \"page\",\n    to: \"/questions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 33\n    }\n  }, \"Questions\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"nav-link\",\n    to: \"/users\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 33\n    }\n  }, \"Users\")), isLogged ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"nav-link\",\n    to: \"/create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 45\n    }\n  }, \"Create\")), auth.isAdmin && /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item \" + ((notifications === null || notifications === void 0 ? void 0 : notifications.length) ? \"red\" : \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"nav-link\",\n    to: \"/notifications\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 49\n    }\n  }, \"Notifications\"))) : null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  }, isLogged ? userLink() : /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 39\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    className: \"btn btn-outline-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 43\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 97\n    }\n  }), \" Sign in\")))))));\n}\n\nexport default Header;","map":{"version":3,"sources":["E:/PROJECTS/StackOverflowCloneREPO-master/client/src/components/header/Header.js"],"names":["React","Link","useSelector","axios","Header","auth","state","notifications","user","isLogged","handleLogout","get","localStorage","removeItem","window","location","href","err","userLink","_id","avatar","name","role","isAdmin","length"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport axios from 'axios'\n\n\nfunction Header() {\n    const auth = useSelector(state => state.auth)\n    const notifications = useSelector(state => state?.notifications?.notifications)\n    const { user, isLogged } = auth\n    const handleLogout = async () => {\n        try {\n            await axios.get('/api/auth/logout')\n            localStorage.removeItem('firstLogin')\n            window.location.href = \"/\";\n        } catch (err) {\n            window.location.href = \"/\";\n        }\n    }\n\n    const userLink = () => {\n        return <li className=\"header-acc-control\">\n            <Link to={\"/user/\" + user._id} className=\"avatar\">\n                <img src={user.avatar} alt=\"\" />\n            </Link>\n            <div className=\"nav-item dropdown\">\n                <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"dropdown01\" data-toggle=\"dropdown\" aria-expanded=\"false\">{user.name}</a>\n                <ul className=\"dropdown-menu\" aria-labelledby=\"dropdown01\">\n                    <li><Link className=\"dropdown-item\" to={\"/user/\" + user._id}>Profile</Link></li>\n                    <li><Link className=\"dropdown-item\" to=\"/settings\">Settings</Link></li>\n                    <li>{user.role ?\n                        <div><Link className=\"dropdown-item\" to=\"/admin\">Admin Dashboard</Link></div>\n                        : null}</li>\n                    <li><Link className=\"dropdown-item\" to=\"/\" onClick={handleLogout}>Logout</Link></li>\n                </ul>\n            </div>\n        </li>\n    }\n\n\n    return (\n        <div className=\"nav-shell fixed-top navbar-dark bg-dark\">\n            <nav className=\"navbar-expand-lg navbar\" aria-label=\"Main navigation\">\n                <div className=\"container-fluid\">\n                    <a className=\"navbar-brand\" href=\"/\">StackOverflow</a>\n                    <button className=\"navbar-toggler p-0 border-0\" type=\"button\" data-toggle=\"offcanvas\" aria-label=\"Toggle navigation\">\n                        <span className=\"navbar-toggler-icon\"></span>\n                    </button>\n                    <div className=\"navbar-collapse offcanvas-collapse\" id=\"navbarsExampleDefault\">\n                        <ul className=\"navbar-nav mr-auto mb-2 mb-lg-0\">\n                            <li className=\"nav-item active\">\n                                <Link className=\"nav-link\" aria-current=\"page\" to=\"/questions\">Questions</Link>\n                            </li>\n                            <li className=\"nav-item\">\n                                <Link className=\"nav-link\" to=\"/users\">Users</Link >\n                            </li>\n                            {\n                                isLogged\n                                    ? <>\n                                        <li className=\"nav-item\">\n                                            <Link className=\"nav-link\" to=\"/create\">Create</Link >\n                                        </li>\n                                        {auth.isAdmin &&\n                                            <li className={\"nav-item \" + (notifications?.length ? \"red\" : \"\")}>\n                                                <Link className=\"nav-link\" to=\"/notifications\">Notifications</Link >\n                                            </li>\n                                        }\n                                    </>\n                                    : null}\n\n                        </ul>\n                        <div className=\"d-flex\">\n                            {\n                                isLogged\n                                    ? userLink()\n                                    : <li><Link to=\"/login\" className=\"btn btn-outline-success\"><i className=\"fas fa-user\"></i> Sign in</Link></li>\n                            }\n                        </div>\n                    </div>\n                </div>\n            </nav>\n        </div>\n\n\n    )\n}\n\nexport default Header\n"]},"metadata":{},"sourceType":"module"}